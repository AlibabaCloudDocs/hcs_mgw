HDFS 
=========================

如果您的数据存储在HDFS中，需将HDFS和闪电立方II、III设备都挂载至计算节点上进行数据迁移。本文介绍创建业务IP地址，及挂载HDFS和闪电立方II、III设备至计算节点的操作步骤。

前提条件 
-------------------------

* 已准备好计算节点。

  

* 在挂载闪电立方II、III设备至计算节点前，请先确认计算节点，已经通过网线直连方式或交换机方式，连接到闪电立方II、III设备的网口或光口上，并确认网线、光纤线和光模块连接正常，端口连接指示灯正常。

  




步骤一：配置业务IP地址 
---------------------------------

1. 登录硬件控制台，详情请参见[安装硬件](~~119540~~)。

   

2. 选择 **设置\>访问\>通道\>网络** ，找到已连接的数据通道，单击 **编辑** 。

   

3. 设置主机通道信息， **类型** 修改为 **文件级数据服务** 。

   
   **说明**

   修改类型后，需要重启控制器，才能生效。选择 **设置-\>系统-\>通用** ，单击 **重启控制器** ，完成重启。

   

4. 设置控制器A和控制器B的IPv4协议，单击 **应用** 。

   **IP地址类型** 设置为 **静态** ，并根据您的实际网络环境设置 **IP地址** 、 **子网掩码** 和 **默认网关** 。

   
   **说明**

   请记录此IP地址，在创建数据地址时，需配置此IP地址。

   ![](http://docs-aliyun.cn-hangzhou.oss.aliyun-inc.com/assets/pic/119540/cn_zh/1558423912241/Image%2026.png)
   




步骤二：挂载HDFS至计算节点 
------------------------------------

将HDFS挂载至计算节点，详情请参见[Configuring Mountable HDFS](https://docs.cloudera.com/documentation/enterprise/5-7-x/topics/cdh_ig_hdfs_mountable.html)。

步骤三：挂载闪电立方至计算节点 
------------------------------------

在创建及执行数据迁移任务前，先将闪电立方设备挂载到数据源端的计算节点上。

1. 以root用户登录计算节点。

   

2. 查看闪电立方设备共享的文件夹。其中业务IP地址，请使用实际值替换。 

   `showmount -e 业务IP地址`

   此处查看结果以/Pool-1/volume_1/cube为例。
   

3. 创建挂载点。

   `mkdir /mnt/sdlf`
   

4. 将闪电立方设备挂载到计算节点。其中业务IP地址，请使用实际值替换。

   `mount 业务IP地址:/Pool-1/volume_1/cube /mnt/sdlf/`
   

5. 检查挂载结果。

   `df -h`

   若显示如下信息，则表示挂载成功。
   




![挂载闪电立方到计算节点图片](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/9384420061/p166984.png)

